Included are scripts used to run John Rubinstein's script(s) to align single particle trajectories within DDD movies. The scripts came from this site [https://sites.google.com/site/rubinsteingroup/direct-detector-align_lmbfgs here].

===Compiling===

====Recompiling MRC Image 2010 ====

I had to recompile the mrc image2010 library to make sure it is the same compiler that we will use below for John's program: 

<pre>$ cp -r /programs/x/mrc/05.05.2011/* /labdata/allab/michaelc/image2010/</pre>

Add this line to image2010/com/image.login: 

<pre>setenv IMAGE_PUBLIC /labdata/allab/michaelc/image2010</pre>

Then rebuild: 

<pre>./rebuild_image_gfortran</pre>

And create a new mrc module file: 

<pre> mrc/rebuild_local</pre>

====Compiling John's scripts====

To compile John's scripts after downloading from his website, you first need to update a few paths within the Makefile. Below are the updated lines: 

<pre>FFLAGS = -ofast -Wall -fbounds-check -g -Wno-uninitialized

LBFGSB      = Lbfgsb.3.0/lbfgsb.f
LINPACK     = Lbfgsb.3.0/linpack.f
BLAS        = Lbfgsb.3.0/blas.f
TIMER       = Lbfgsb.3.0/timer.f
IMLIB2010   = ${IMAGE_PUBLIC}/lib/imlib2010.a
GENLIB2010  = ${IMAGE_PUBLIC}/lib/genlib.a</pre>

* -Ofast was changed to -ofast

Compile:
<pre>$ module load mrc/rebuild_local
$ make -f Makefile alignparts_lmbfgs
$ make -f Makefile alignframes_lmbfgs</pre>

